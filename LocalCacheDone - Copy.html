<html>
<head>
<link rel="stylesheet" href="bootstrap-theme.css"> 
<link rel="stylesheet" href="bootstrap.min.css">
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
<link rel="stylesheet" href="bootstrap-theme.min.css">
<link rel="stylesheet" href="style.css">

<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<script src="jquery.min.js"> </script>
<script src="bootstrap.min.js"></script>
<script src="bs-glyphicons-data-generator.js"></script>
<script src="jquery-ui.min.js"> </script>
<script src="jquery.simpler-sidebar.min.js"> </script>
<script>
	$(document).ready(function(){			
	
		  $('#main-sidebar').simplerSidebar({
                    opener: '#toggle-sidebar',
                    top: 116,
					mask: false, 
                    animation: {
                        easing: "easeOutQuint"
                    },
                    sidebar: {
                        align: 'left',
                        closingLinks: '.close-sb'
                    }
                });
		function MyFunction()
			{
				var link =$("#txt").val();
				$("#display").prop("src",link)					
				var storedUrl = localStorage.getItem("url");					
				localStorage.setItem("url", storedUrl)
				var urls = storedUrl.split(",");					
				for (var index=0; index < urls.length; index++)
					{
						if (link == urls[index])
							{ 
								var afterSplice = urls.splice(index, 1);				
								var insertInZerothIndex = urls.splice(0,0, link);
								localStorage.setItem("url", urls);
								return false;
							}			
					}	
					urls.splice(0,0, link);					
				//	alert("after pushing "+ urls);				
					localStorage.setItem("url", urls);
			} 
			
			
		$("#txt").keypress(function(e){
		var key=e.which;
		if (key == 13)
			{
				MyFunction();
			}
		});
		
		
			$(".input-group-btn").click(function(){
				MyFunction();
			});
		
		
		$("#sel").change(function(){
			var link=$("#txt").val();
			if (!link == null) 
			{
				$("#phone").removeClass();
				$("#phone").addClass($(this).val());
				$("#display").prop("src",link)
			}
			else 
			{
				$("#phone").removeClass();
				$("#phone").addClass($(this).val());
			}
		});
		
		
		$("#txt").on("paste", function(){
		setTimeout(function(){
			MyFunction();
			});
		});
		
		
		$("#landscape").click(function(){
			$("#rotate").removeClass();
				$("#rotate").addClass("landscape");
		});
		
		
			$("#portrait").click(function(){
				$("#rotate").removeClass();
					$("#rotate").addClass("portrait");
			});
	
	
				$(".optn-btn").click(function(){
				var storedUrl = localStorage.getItem("url");
				if (storedUrl == null)
					{						
						var onloadlink = $("#txt").val();						
						storedUrl = [];					
						storedUrl.splice(0,0, onloadlink);					
					}					
						localStorage.setItem("url", storedUrl);
						var urls = storedUrl.split(",");
						var generatedHtml = "";
						for (var index=0; index < urls.length; index++)
							{
								generatedHtml += "<tr><td>";
								generatedHtml += urls[index];
								generatedHtml += "</td></tr>";
								generatedHtml += "</br>";
							}
						$("#main-sidebar-wrapper").html(generatedHtml);
					//	$("#option").toggle();
						
							$("td").click(function(){
						//	alert($(this).text());
							var cachelink = $(this).text();
							$("#display").prop("src",cachelink)
							$("#txt").val(cachelink);
							MyFunction();
							//	alert("link set")
							});
					});	
	});
</script>
</head>
<body>
	<div class="container-fluid">
		<div class="row header">
			<div class="col-md-12 l-align">
				<p><h3>  Mobile Testing  </h3> </p>
			</div>
		</div>
		<div class="row second common">
			<div class="col-md-1">
				  <div class="main-navbar-content">
					 <div id="toggle-sidebar">
						<span class="optn-btn">
							<button class="btn btn-default btn button-height" type="button"> <span class="glyphicon glyphicon-menu-hamburger"/></button>
						</span>
					</div>
				</div>
			</div>
			<div class="col-md-2">
				<center>	<p><h4> Enter URL </h4></p> </center>
			</div>
			<div class="col-md-4">
				<div class="input-group">
					<input type="text" id="txt" class="form-control" value="http://www.w3schools.com">
						<span class="input-group-btn">
							<button class="btn btn-default btn button-height" type="button"> <span class="glyphicon glyphicon-play"/></button>
						</span>
				</div>
			</div>
			<div class="col-md-3">
				<select id="sel" class="form-control">
						<option value="" disabled selected>Select the device</option>
						<option value="iphone" selected="selected">iPhone 5s </option>
						<option value="samsung"> Samsung Galaxy S6 edge+</option>
						<option value="ipad2"> iPad2</option>
						<option value="ipad"> iPad Air 2</option>
						<option value="samsung-tab"> Samsung Galaxy Tab 4</option>
				</select>
			</div>	
			<div class="col-md-2">
					<div class="btn-group">
						<button type="button" id="btn" class="btn btn-info dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							Transform <span class="caret"> </span>
						</button> 
						<ul class="dropdown-menu">	
							<li> <a href ="#" id="portrait">Portrait </a></li>
							<li> <a href ="#" id="landscape">Landscape </a></li>
						</ul>
					</div>
			</div>
		</div>
		<div class="row">
				<div class="col-md-12">	
					 <div id="main-sidebar" class="main-sidebar main-sidebar-left">
						<div id="main-sidebar-wrapper" class="main-sidebar-wrapper">
							<table>
								<tr>
									<td></td>
								</tr>
							</table>
						</div>
					</div>
						<div id="phone" class="iphone">
							<div id="rotate" class="portrait">
								<iframe id="display" class="display" src="http://www.w3schools.com"></iframe> 
							</div>
						</div>	
				</div>
		</div>
	</div>
</body>
</html>